# PTJ 04

[toc]

## Namespace

1. articles 앱의 index 페이지에서 두번째 앱 pages의 index로 이동하는 하이퍼링크를 클릭 시 현재 페이지로 이동됨
   - URL namespace
2. pages 앱 index url로 이동해도 articles 앱의 index페이지가 출력됨
   - Template namespace



### namespace(이름공간)

1. 서로 다른 app의 같은 이름을 가진 url name은 이름공간을 설정해서 구분
2. templages, static 등 django는 정해진 경로 하나로 모아서 보기 때문에 중간에 폴더를 임의로 만들어 줌으로써 이름공간을 설정

```python
# pages/urls.py

app_name = 'pages'
urlpatterns = [
    path('index/', views.index, name='index'),
]
```

```django
{# articles/templates/index.html #}

{% extends 'base.html' %}

{% block content %}
  <h1>INDEX</h1>
  <a href="{% url 'articles:greeting' %}">greeting</a>
  <a href="{% url 'articles:dinner' %}">dinner</a>
  <a href="{% url 'articles:throw' %}">throw</a>
  <a href="{% url 'articles:dtl_practice' %}">dtl_practice</a>

  <a href="{% url 'pages:index' %}">두번째 앱의 메인페이지</a>
{% endblock content %}
```



### URL namespace

- urls.py 에 "app_name" attribute 값 작성
- 참조
  - ':' 연산자를 사용하여 지정
    - url 'articles:index'



### Tmeplate namespace

- 추가경로 지정
  - return render(request, 'articles/index.html')

- 앱이름/tempalte/앱이름/ 으로 폴더 구조 변경 및 템플릿 경로 재작성



## Static files

### 웹 서버와 정적 파일

- 웹 서버는 특정 위치(url)에 있는 자원을 요청을 받아서 제공하는 응답을 처리하는 것을 기본 동작으로 함
- 자원과 접근 간으한 주소가 정적으로 연결된 관계
  - ex) 사진파일 - 자원, 파일 경로 - 웹 주소
- 웹 서버는 요청 받은 url로 서버에 존재하는 정적 자원을 제공



### static files

- 정적 파일

- 응답할 때 별도의 처리 없이 파일 내용을 그대로 보여주면 되는 파일

  ex) 이미지, 자바 스크립트, CSS

- 파일 자체가 고정되어 있고, 서비스 중에도 추가되거나 변경되지 않고 고정되어 있음
- 장고에서 관련 기능 제공



### static files 구성

1. django

2. settings.py에서 static_url을 정의

3. 템플릿에서 static 템플릿 태그를 사용하여 지정된 상대 경로에 대한 url을 빌드

   ```django
   {% load static %}
   <img scr="{% static 'my_app/example.jpg' %}" alt="My image">
   ```

4. 앱의 static 디렉토리에 정적 파일을 저장

   ex) my_app/static/my_app/example.jpg



- staticfiles_dirs(새로 만들어야함)
- static_url(이미 setting.py에 있었음)
  - static_root
  - 실제 파일이나 디렉토리가 아니며, url로만 존재
  - 비어 있지 않은 값으로 설정한다면 반드시 `/`로 끝나야 함

- static_root -> 개발 단계에선 동작하지 않음
  - collectstatic이 배포를 위해 정적 파일을 수집하는 디렉토리의 절대 경로
  - 장고 프로젝트에서 사용하는 모든 정적 파일을 한 곳에 모아 넣는 경로
  - 개발 과정에서 settings.py의 DEBUG 값이 True로 설정되어 있으면 해당 값은 작용되지 않음
- 실 서비스 환경(배포 환경)에서 django의 모든 정적 파일을 다른 웹 서버가 직접 제공하기 위함



### Django template tag

- load
  - 사용자 정의 템플릿 태그 세트를 로드(load)
  - 로드하는 라이브러리, 패키지에 등록된 모든 태그와 필터를 불러옴
  - 빌트인 x (파이썬에서 import같은 역할)
- static
  - static_root에 저장된 정적 파일에 연결



## 프로젝트 시연

1. 목표
   - HTML & CSS
   - Bootstrap